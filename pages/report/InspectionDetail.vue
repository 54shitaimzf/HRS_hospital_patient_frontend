<template>
	<scroll-view scroll-y class="container">
		<!-- æ ‡é¢˜Banner -->
		<view class="banner">
			<text class="banner-title">ğŸ“ æŠ¥å‘Šè¯¦æƒ…</text>
		</view>

		<!-- æŠ¥å‘ŠåŸºç¡€ä¿¡æ¯ -->
		<view class="section">
			<text class="section-title">æ£€æŸ¥ä¿¡æ¯</text>
			<view class="info-item"><text>é¡¹ç›®åç§°ï¼š</text><text>{{ report.name }}</text></view>
			<view class="info-item"><text>æ£€æŸ¥åŒ»ç”Ÿï¼š</text><text>{{ report.doctor }}</text></view>
			<view class="info-item"><text>å¼€å•æ—¶é—´ï¼š</text><text>{{ report.applyDate }}</text></view>
			<view class="info-item"><text>æŠ¥å‘Šæ—¶é—´ï¼š</text><text>{{ report.reportDate }}</text></view>
		</view>

		<!-- æ£€æŸ¥ç»“æœ -->
		<view class="section">
			<text class="section-title">æ£€æŸ¥ç»“æœ</text>
			<text class="section-content">{{ report.result }}</text>
		</view>

		<!-- ç»“è®ºå»ºè®® -->
		<view class="section">
			<text class="section-title">åŒ»ç”Ÿç»“è®º</text>
			<text class="section-content">{{ report.conclusion }}</text>
		</view>

		<!-- æŒ‰é’® -->
		<view class="footer-btn">
			<button class="main-btn" @click="goBack">è¿”å›ä¸Šä¸€é¡µ</button>
		</view>
	</scroll-view>
</template>

<script setup>
	import {
		ref,
		onMounted
	} from 'vue'
	import {
		onLoad
	} from '@dcloudio/uni-app'

	const report = ref({
		id: null,
		name: '',
		doctor: '',
		applyDate: '',
		reportDate: '',
		result: '',
		conclusion: ''
	})

	onLoad((options) => {
		const reportId = options.id
		// æ¨¡æ‹Ÿæ•°æ®åŠ è½½ï¼Œå»ºè®®æ›¿æ¢ä¸ºåç«¯æ¥å£è¯·æ±‚
		if (reportId === '1') {
			report.value = {
				id: 1,
				name: 'èƒ¸éƒ¨CTæ£€æŸ¥',
				doctor: 'å¼ åŒ»ç”Ÿ',
				applyDate: '2025-06-10 09:15',
				reportDate: '2025-06-10 17:30',
				result: 'å½±åƒæ˜¾ç¤ºå³è‚ºä¸‹å¶æœ‰å°ç»“èŠ‚ï¼Œå»ºè®®å®šæœŸå¤æŸ¥ã€‚',
				conclusion: 'å»ºè®®æ¯å¹´å¤æŸ¥ä¸€æ¬¡ï¼Œè§‚å¯Ÿç»“èŠ‚å˜åŒ–ï¼Œä¿æŒè‰¯å¥½ä½œæ¯ã€‚'
			}
		} else {
			report.value = {
				id: 2,
				name: 'è¡€å¸¸è§„æ£€éªŒ',
				doctor: 'æåŒ»ç”Ÿ',
				applyDate: '2025-06-08 10:00',
				reportDate: '2025-06-08 13:40',
				result: 'ç™½ç»†èƒæ•°é‡æ­£å¸¸ï¼Œçº¢ç»†èƒè½»å¾®åä½ï¼Œè¡€çº¢è›‹ç™½æ­£å¸¸ã€‚',
				conclusion: 'æ³¨æ„é¥®é£Ÿè¥å…»ï¼Œå¿…è¦æ—¶è¡¥é“ï¼Œå®šæœŸå¤æŸ¥ã€‚'
			}
		}
	})

	const goBack = () => {
		uni.navigateBack()
	}
</script>

<style scoped>
	.container {
		padding: 40rpx;
		background-color: #f5f7fa;
		min-height: 100vh;
		box-sizing: border-box;
	}

	.banner {
		background: linear-gradient(135deg, #2193b0, #6dd5ed);
		border-radius: 24rpx;
		padding: 40rpx 30rpx;
		margin-bottom: 40rpx;
		box-shadow: 0 8rpx 16rpx rgba(33, 147, 176, 0.3);
	}

	.banner-title {
		color: white;
		font-size: 36rpx;
		font-weight: bold;
		text-align: center;
	}

	.section {
		background-color: #fff;
		border-radius: 20rpx;
		padding: 30rpx;
		margin-bottom: 30rpx;
		box-shadow: 0 6rpx 16rpx rgba(0, 0, 0, 0.05);
	}

	.section-title {
		font-size: 32rpx;
		color: #333;
		font-weight: bold;
		margin-bottom: 20rpx;
		display: block;
	}

	.info-item {
		display: flex;
		justify-content: space-between;
		font-size: 28rpx;
		color: #666;
		margin-bottom: 18rpx;
	}

	.section-content {
		font-size: 28rpx;
		color: #444;
		line-height: 1.8;
		white-space: pre-line;
	}

	.footer-btn {
		margin-top: 40rpx;
		display: flex;
		justify-content: center;
	}

	.main-btn {
		width: 80%;
		padding: 28rpx 0;
		font-size: 30rpx;
		color: #fff;
		border: none;
		border-radius: 100rpx;
		background: linear-gradient(to right, #36d1dc, #5b86e5);
		box-shadow: 0 10rpx 24rpx rgba(91, 134, 229, 0.3);
	}
</style>